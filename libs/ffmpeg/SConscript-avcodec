env = WengoGetEnvironment()

libs = [
	'avutil'
]

includes = [
	'libavcodec'
]

env.WengoAddIncludePath(includes)
env.WengoUseLibraries(libs)

if WengoArchX86() and WengoOSMacOSX():
	env.WengoAutoconf('avcodec', ['libavcodec/libavcodec.a'],
		'./configure --disable-mmx --enable-memalign-hack', 'cd 	libavcodec && make',
		['configure'], ['config.mak'])
else:
	env.WengoAutoconf('avcodec', ['libavcodec/libavcodec.a'],
		'./configure', 'cd 	libavcodec && make',
		['configure'], ['config.mak'])


