import os

env = WengoGetEnvironment()


libs = [
	'glib-2.0',
	'gthread-2.0'
]

lib_path = []

include_path = [
	'include',
]

libs_file = []

if WengoOSWindows():
	if WengoCCMSVC():
		lib_path += [
			'binary-lib/msvc',
		]

		libs_file += [
			'binary-lib/msvc/gaim.lib',
			'binary-lib/msvc/gaim.dll',
			'binary-lib/msvc/iconv.dll',
			'binary-lib/msvc/intl.dll',
			'binary-lib/msvc/nspr4.dll',
			'binary-lib/msvc/nss3.dll',
			'binary-lib/msvc/nssckbi.dll',
			'binary-lib/msvc/plc4.dll',
			'binary-lib/msvc/plds4.dll',
			'binary-lib/msvc/softokn3.dll',
			'binary-lib/msvc/ssl3.dll',
			'binary-lib/msvc/zlib1.dll',
		]

elif WengoOSMacOSX():
	lib_path += [
		'binary-lib/macosx/ppc',
	]

	libs_file += [
		'binary-lib/macosx/ppc/libgaim.dylib',
	]

else:
	print "Your platform is not supported by libgaim"

env.WengoAddLibPath(lib_path)
env.WengoAddIncludePath(include_path)
env.WengoUseLibraries(libs)

env.WengoDeclareLibrary('gaim', libs_file)
