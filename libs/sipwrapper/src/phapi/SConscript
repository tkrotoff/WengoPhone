env = WengoGetEnvironment()

libs = [
	'boost',
	'wengoutil',
	'phapi',
	'ortp',
	'stun',
	'httptunnel',
	'wengophone',
	'tinyxml',
	'imwrapper',
	'sipwrapper',
]

defines = {}
lib_path = []
include_path = [
	'.'
]

if WengoGetConsoleArgument('enable-netlib'):
	defines['ENABLE_NETLIB'] = 1
	libs += ['netlib']

if WengoGetConsoleArgument('enable-video'):
	defines['ENABLE_VIDEO'] = 1
	libs += [
		'pixertool'
	]

if WengoGetConsoleArgument('enable-shared-phapi'):
	defines['PHAPI_DLL'] = 1

headers = []
sources = [
	'PhApiFactory.cpp',
	'PhApiWrapper.cpp',
	'PhApiCallbacks.cpp',
	'PhApiIMChat.cpp',
	'PhApiIMConnect.cpp',
	'PhApiIMPresence.cpp',
]

env.WengoAddIncludePath(include_path)
env.WengoAddDefines(defines)
env.WengoUseLibraries(libs)
env.WengoStaticLibrary('phapiwrapper', sources)
